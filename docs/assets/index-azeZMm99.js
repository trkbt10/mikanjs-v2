(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const c of n)if(c.type==="childList")for(const e of c.addedNodes)e.tagName==="LINK"&&e.rel==="modulepreload"&&r(e)}).observe(document,{childList:!0,subtree:!0});function s(n){const c={};return n.integrity&&(c.integrity=n.integrity),n.referrerPolicy&&(c.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?c.credentials="include":n.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(n){if(n.ep)return;n.ep=!0;const c=s(n);fetch(n.href,c)}})();const y=t=>t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),E=/^[〈《「『｢（\[\(【〔〚〖〘❮❬❪❨<｛{❲❰]$/u,b=/^[〉》」』｣）\]\)】〔〗〙〛❩❫❭❯❱❳❵｝}]$/u,u=/^[。、．…\.!！?？,，:：;；]+$/u,m=/^[\p{Script=Hiragana}]+$/u,S=/^(?:[\d０-９]+(?:[\.,][\d０-９]+)*|[〇零一二三四五六七八九十百千億兆京]+)$/u,T=/^[万]$/u,w=`
  px point pt pc dpi dppx
  mm cm m km μm nm センチメートル キロ メートル
  inch in ft yd mile knot ノット
  g kg t mg μg ℊ グラム キログラム トン
  l ml ℓ リットル
  s ms sec 秒 分 min h hr 時間
  Hz kHz MHz GHz
  A mA V kV W kW Wh kWh
  B KB MB GB TB KiB MiB GiB
  ¥ 円 ￥ $ ＄ € €‎ £ ₩ 元
  % ％ ‰ ‱ ㌫
  ° ℃ ℉ 度
  個 本 冊 枚 台 箱 匹 人 里 海里 畳 坪
`.trim().split(/\s+/),I=new RegExp(`^(?:${w.sort((t,i)=>i.length-t.length).map(y).join("|")})$`,"iu"),N=t=>S.test(t),P=t=>T.test(t),$=t=>I.test(t),B=["こと","もの","ため","ところ","わけ"],H=new RegExp(`^(${B.join("|")})$`,"u"),A=new RegExp(["&nbsp;","[\\s\\n]+","[\\d０-９]+(?:[\\.,][\\d０-９]+)*","[A-Za-z0-9]+(?:\\.[A-Za-z]{2,})?","[\\p{Script=Katakana}ー]+","[\\p{Script=Hiragana}]+","[\\p{Script=Han}々〆ヵヶゝ]+","[〈《「『｢（\\[\\(【〔〚〖〘❮❬❪❨<｛{❲❰〉》」』｣）\\]\\)】〕〗〙〛❩❫❭❯❱❳❵｝}]","[。、．…\\.!！?？,，:：;；]+","[%％‰‱㌫]","[\\p{Emoji_Presentation}\\p{Emoji}\\u{1F000}-\\u{1F9FF}\\u{2600}-\\u{26FF}\\u{2700}-\\u{27BF}]","."].join("|"),"ug"),L=["",0,{は:["は",1,{}],が:["が",1,{}],を:["を",1,{"*":["*",0,{っ:["っ",0,{て:["て",1,{}]}],る:["る",1,{}],じ:["じ",1,{て:["て",1,{}]}],し:["し",1,{て:["て",1,{}]}],め:["め",1,{と:["と",0,{し:["し",0,{て:["て",1,{}]}]}]}],と:["と",0,{し:["し",0,{て:["て",1,{}]}]}],に:["に",1,{し:["し",0,{て:["て",1,{}]}]}]}],は:["は",0,{じ:["じ",0,{め:["め",1,{}]}]}],も:["も",0,{っ:["っ",0,{て:["て",1,{し:["し",0,{て:["て",1,{も:["も",1,{}]}]}]}]}]}]}],に:["に",1,{は:["は",1,{}],て:["て",1,{}],し:["し",0,{て:["て",1,{も:["も",1,{}],は:["は",1,{}]}],ろ:["ろ",1,{}]}],せ:["せ",0,{よ:["よ",1,{}]}],"*":["*",1,{て:["て",1,{は:["は",1,{}]}],と:["と",1,{}],ば:["ば",1,{}],し:["し",1,{て:["て",1,{}]}],す:["す",0,{る:["る",1,{}]}],わ:["わ",0,{ら:["ら",0,{ず:["ず",1,{}]}]}]}],あ:["あ",0,{っ:["っ",0,{て:["て",1,{}]}],た:["た",0,{り:["り",1,{}],っ:["っ",0,{て:["て",1,{}]}]}]}],お:["お",0,{い:["い",0,{て:["て",1,{}]}],け:["け",0,{る:["る",1,{}]}]}],か:["か",0,{か:["か",0,{わ:["わ",0,{ら:["ら",0,{ず:["ず",1,{}]}]}]}]}],も:["も",0,{か:["か",0,{か:["か",0,{わ:["わ",0,{ら:["ら",0,{ず:["ず",1,{}]}]}]}]}],"*":["*",0,{わ:["わ",0,{ら:["ら",0,{ず:["ず",1,{}]}]}]}]}],と:["と",0,{っ:["っ",0,{て:["て",1,{は:["は",1,{}],も:["も",1,{}]}]}]}],い:["い",0,{た:["た",0,{る:["る",0,{ま:["ま",0,{で:["で",1,{}]}]}],っ:["っ",0,{て:["て",1,{は:["は",1,{}]}]}]}]}]}],へ:["へ",1,{}],と:["と",1,{は:["は",1,{い:["い",0,{え:["え",1,{}],い:["い",0,{な:["な",0,{が:["が",0,{ら:["ら",1,{}]}]}]}],う:["う",0,{も:["も",0,{の:["の",0,{の:["の",1,{}]}]}]}]}]}],か:["か",1,{も:["も",1,{}],は:["は",1,{}],で:["で",1,{}],の:["の",1,{}]}],も:["も",1,{に:["に",1,{}],か:["か",0,{く:["く",1,{}]}],あ:["あ",0,{れ:["れ",1,{}],ろ:["ろ",0,{う:["う",1,{}]}]}]}],し:["し",0,{て:["て",1,{は:["は",1,{}],も:["も",1,{}],の:["の",1,{}]}],た:["た",1,{}]}],と:["と",0,{も:["も",0,{に:["に",1,{}]}]}],"*":["*",0,{に:["に",1,{}],え:["え",0,{ど:["ど",1,{}]}]}],い:["い",0,{え:["え",0,{ど:["ど",0,{も:["も",1,{}]}],ば:["ば",1,{}]}],う:["う",0,{と:["と",1,{}],か:["か",1,{}]}],っ:["っ",0,{た:["た",1,{ら:["ら",1,{}],と:["と",0,{こ:["こ",0,{ろ:["ろ",0,{で:["で",1,{}]}]}]}]}]}]}],な:["な",0,{る:["る",0,{と:["と",1,{}]}],れ:["れ",0,{ば:["ば",1,{}]}],っ:["っ",0,{て:["て",1,{は:["は",1,{}]}]}]}],こ:["こ",0,{ろ:["ろ",0,{で:["で",1,{}],が:["が",1,{}],へ:["へ",1,{}],に:["に",1,{}]}]}]}],で:["で",1,{は:["は",1,{な:["な",0,{い:["い",1,{か:["か",1,{}]}],か:["か",0,{ろ:["ろ",0,{う:["う",1,{か:["か",1,{}]}]}]}],く:["く",1,{て:["て",1,{}]}]}],あ:["あ",0,{る:["る",0,{が:["が",1,{}]}]}]}],も:["も",1,{っ:["っ",0,{て:["て",1,{}]}],な:["な",0,{お:["お",1,{}]}],あ:["あ",0,{る:["る",1,{}],り:["り",1,{}]}]}],し:["し",0,{て:["て",1,{}],た:["た",1,{ら:["ら",1,{}]}]}],さ:["さ",0,{え:["え",1,{も:["も",1,{}]}]}]}],の:["の",1,{に:["に",1,{は:["は",1,{}],も:["も",1,{}]}]}],も:["も",1,{の:["の",1,{の:["の",1,{}],を:["を",1,{}],だ:["だ",1,{か:["か",0,{ら:["ら",1,{}]}]}],か:["か",1,{}],な:["な",0,{ら:["ら",1,{}]}]}],し:["し",0,{く:["く",0,{は:["は",1,{}]}]}]}],や:["や",1,{ら:["ら",1,{か:["か",1,{}],な:["な",0,{ん:["ん",0,{や:["や",0,{ら:["ら",1,{}]}]}]}],で:["で",1,{}]}]}],か:["か",1,{ら:["ら",1,{も:["も",1,{}],は:["は",1,{}],こ:["こ",0,{そ:["そ",1,{}]}],し:["し",0,{て:["て",1,{}]}],に:["に",0,{は:["は",1,{}]}],と:["と",0,{い:["い",0,{っ:["っ",0,{て:["て",1,{}]}]}]}]}],と:["と",0,{"*":["*",0,{え:["え",0,{ば:["ば",1,{}]}],う:["う",0,{と:["と",1,{}]}]}],い:["い",0,{う:["う",0,{と:["と",1,{}]}],え:["え",0,{ば:["ば",1,{}]}],っ:["っ",0,{て:["て",1,{}]}]}]}],ど:["ど",0,{う:["う",0,{か:["か",1,{}]}]}],し:["し",0,{ら:["ら",1,{}]}],な:["な",1,{}],も:["も",1,{し:["し",0,{れ:["れ",0,{な:["な",0,{い:["い",1,{}]}]}]}]}],の:["の",0,{よ:["よ",0,{う:["う",0,{に:["に",1,{}],な:["な",1,{}]}]}],ご:["ご",0,{と:["と",0,{く:["く",1,{}],き:["き",1,{}]}]}]}]}],ね:["ね",1,{}],よ:["よ",1,{り:["り",1,{も:["も",1,{}],は:["は",1,{}],か:["か",1,{}]}]}],ぞ:["ぞ",1,{}],ぜ:["ぜ",1,{}],さ:["さ",1,{え:["え",1,{も:["も",1,{}],は:["は",1,{}]}],て:["て",0,{は:["は",1,{}]}]}],わ:["わ",1,{}],な:["な",0,{の:["の",1,{}],が:["が",0,{ら:["ら",1,{も:["も",1,{}],に:["に",1,{し:["し",0,{て:["て",1,{}]}]}]}]}],ど:["ど",1,{は:["は",1,{}],も:["も",1,{}],か:["か",1,{}],と:["と",1,{い:["い",0,{う:["う",1,{}]}]}],で:["で",1,{}],に:["に",1,{}]}],ん:["ん",0,{て:["て",1,{}],か:["か",1,{}]}],い:["い",0,{し:["し",1,{は:["は",1,{}]}]}]}],ま:["ま",0,{で:["で",1,{も:["も",1,{}],は:["は",1,{}],に:["に",1,{}],し:["し",0,{て:["て",1,{}]}],が:["が",1,{}]}],た:["た",0,{は:["は",1,{}]}]}],ば:["ば",0,{か:["か",0,{り:["り",1,{で:["で",1,{な:["な",0,{く:["く",1,{}]}],は:["は",1,{}]}],だ:["だ",1,{}],か:["か",1,{}],に:["に",1,{}]}]}]}],だ:["だ",0,{け:["け",1,{は:["は",1,{}],に:["に",1,{}],し:["し",0,{か:["か",1,{}]}],で:["で",0,{な:["な",0,{く:["く",1,{}]}],は:["は",1,{}]}],ど:["ど",1,{も:["も",1,{}]}]}],に:["に",1,{}],っ:["っ",0,{て:["て",1,{}]}],の:["の",1,{}]}],ほ:["ほ",0,{ど:["ど",1,{に:["に",1,{}],の:["の",1,{}],で:["で",0,{は:["は",1,{}],も:["も",1,{}]}]}]}],て:["て",0,{も:["も",1,{な:["な",0,{お:["お",1,{}]}],ま:["ま",0,{だ:["だ",1,{}]}],い:["い",0,{い:["い",1,{}]}],よ:["よ",0,{い:["い",1,{}]}]}]}],く:["く",0,{ら:["ら",0,{い:["い",1,{}]}]}],ぐ:["ぐ",0,{ら:["ら",0,{い:["い",1,{}]}]}],し:["し",0,{か:["か",1,{}]}],こ:["こ",0,{そ:["そ",1,{}]}],す:["す",0,{ら:["ら",1,{}]}],け:["け",0,{れ:["れ",0,{ど:["ど",1,{も:["も",1,{}]}]}],ど:["ど",1,{も:["も",1,{さ:["さ",1,{}]}]}]}],っ:["っ",0,{て:["て",1,{ば:["ば",1,{}]}],た:["た",0,{っ:["っ",0,{て:["て",1,{}]}]}]}],じ:["じ",0,{ゃ:["ゃ",1,{あ:["あ",1,{}],ね:["ね",1,{}],ん:["ん",1,{}],な:["な",0,{い:["い",1,{か:["か",1,{}]}]}]}]}],つ:["つ",0,{つ:["つ",1,{も:["も",1,{}],あ:["あ",0,{る:["る",1,{}]}]}],い:["い",0,{て:["て",0,{は:["は",1,{}]}]}]}],あ:["あ",0,{る:["る",0,{い:["い",0,{は:["は",1,{}]}]}]}]}],C=new Set(["は","が","を","に","へ","と","で","の","も","や","か","ね","よ","ぞ","ぜ","さ","わ","な","ま","ば","だ","ほ","て","く","ぐ","し","こ","す","け","っ","じ","つ","あ"]),h="*",k=t=>{const[i,s,r]=t,n={value:i,isTerminal:!!s,children:new Map};for(const[c,e]of Object.entries(r))n.children.set(c,k(e));return n},W=t=>k(t),v=W(L),x=(t,i)=>{let s=t;const r=Array.from(i);for(const n of r){if(!s.children.has(n))return!1;s=s.children.get(n)}return s.isTerminal},R=(t,i,s)=>{let r=t,n=null,c="",e=s;for(;e<i.length;){const o=i[e];let a=!1;if(r.children.has(o)&&(r=r.children.get(o),c+=o,e++,a=!0,r.isTerminal&&(n=c)),!a&&r.children.has(h)){const l=e;for(;e<i.length&&/[\p{Script=Han}々〆ヵヶゝ]/u.test(i[e]);)e++;e>l&&(r=r.children.get(h),c+=i.substring(l,e),a=!0,r.isTerminal&&(n=c))}if(!a)break}return n},g=t=>x(v,t),O=(t,i)=>R(v,t,i),j=t=>i=>{let s=i,r=t[s];const n=()=>s+1<t.length,c=()=>n()?t[s+1]:void 0,e=()=>(n()&&(r+=t[++s]),{current:r,index:s});return{hasNext:n,peek:c,combine:e,combineIf:l=>n()&&l?e():{current:r,index:s},combineWhile:l=>{for(;n()&&c()&&l(c());)e();return{current:r,index:s}},get value(){return r},get pos(){return s}}},F=t=>{if(!/^[\p{Script=Hiragana}]+$/u.test(t)||t.length<=2)return[t];const i=[];let s=0;for(let r=0;r<t.length;r++){const n=O(t,r);if(n){if(n==="ya"&&r<t.length-1)continue;if(n==="でも"&&r+n.length<t.length){const c=t.substring(r+n.length);if(/^(ない|なく|なかっ|なけれ)/.test(c))continue}r>s?i.push(t.substring(s,r)+n):i.length>0?i[i.length-1]+=n:i.push(n),s=r+n.length,r=s-1}}return s<t.length&&i.push(t.substring(s)),i},z=(t,i)=>!!(b.test(t.slice(-1))&&i==="でも"),M=t=>{if(!t)return[""];const i=[...t.matchAll(A)].map(e=>e[0]),s=[];for(const e of i)s.push(...F(e));const r=[],n=j(s);let c=0;for(;c<s.length;){const e=n(c);if(/^[\p{Script=Han}々〆ヵヶゝ]+$/u.test(e.value)&&e.peek()&&m.test(e.peek())){for(;e.peek()&&m.test(e.peek())&&!(H.test(e.peek())||C.has(e.peek())&&e.peek().length>1);)if(e.combine(),e.peek()&&u.test(e.peek())){e.combine();break}}e.combineIf(/^[\p{Script=Katakana}ー]+$/u.test(e.value)&&e.peek()==="な"),N(e.value)&&e.peek()&&($(e.peek())||P(e.peek()))&&(e.combine(),e.combineIf(e.peek()?u.test(e.peek()):!1),e.combineIf(e.peek()?/^[\p{Script=Hiragana}]+$/u.test(e.peek()):!1)),E.test(e.value)&&(e.combineWhile(o=>!b.test(o)),e.combineIf(!0)),e.peek()&&g(e.peek())&&!g(e.value)&&(z(e.value,e.peek())||e.combine()),e.value==="でも"&&e.peek()&&/^(ない|なく|なかっ|なけれ)/.test(e.peek())&&(e.combine(),e.combineIf(e.peek()?u.test(e.peek()):!1)),e.combineIf(e.peek()?u.test(e.peek())&&!u.test(e.value):!1),r.push(e.value),c=e.pos+1}return r};var p=document.getElementById("sample"),d=document.getElementById("input");function K(t){var i=M(t),s=document.createElement("div");return i.forEach(function(r){var n=document.createElement("span"),c=document.createTextNode(r);n.style.display="inline-block",n.style.whiteSpace="nowrap",n.style.border="1px solid #e0e0e0",n.style.borderRadius="4px",n.style.padding="2px 4px",n.style.margin="2px",n.style.backgroundColor="#f8f9fa",n.style.transition="all 0.2s",n.appendChild(c),s.appendChild(n)}),s}function f(t){for(var i=K(t);p.firstChild;)p.removeChild(p.firstChild);p.appendChild(i)}window.setSample=function(t){d.value=t,f(t)};f("やりたいことのそばにいる");d.addEventListener("input",function(t){f(t.target.value)});var _=document.getElementById("sampleSelect");_.addEventListener("change",function(t){t.target.value&&(d.value=t.target.value,f(t.target.value))});
